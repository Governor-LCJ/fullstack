<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- <script>
        function test() {
            setTimeout(() => {
                console.log('猛哥')
                name = '猛哥'
                xq()
            },500)
        }
        function xq() {
            console.log(name + '相亲')
        }
        test()
    </script> -->
    <script>
        var name = ''
        function test() {
            return new Promise((resolve, reject) => {//保证函数执行完
                setTimeout(() => {
                    console.log('猛哥')
                    name = '猛哥'
                    resolve('ok')//
                    reject('error')
                },500)
            })
        }
        function xq() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log(name + '相亲')
                    resolve('相亲ok')
                },1000)
            })
        }
        function marry() {
            console.log(name + '结婚')
        }
        
        // xq()

        // test().then(xq)

        // test()
        // .then((res) => {
        //     console.log(res)
        //     xq().then((res) => {
        //         console.log(res)
        //     })
        // })
        // .catch((err) => {
        //     console.log(err)
        // })
        
        // test()
        // .then(xq)
        // .then(marry)

        // Promise. all([test(),xq()]).then((value) =>{
        //     console.log(value,'---')
        //     marry()
        // })

        Promise. race([test(),xq()]).then((value) =>{
            console.log(value,'---')
            marry()
        })
    </script>
</body>
</html>